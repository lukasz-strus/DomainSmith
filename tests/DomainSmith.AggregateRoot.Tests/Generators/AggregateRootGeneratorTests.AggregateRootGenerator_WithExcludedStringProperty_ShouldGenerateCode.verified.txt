// <auto-generated/>
using DomainSmith.AggregateRoot;
using DomainSmith.Abstraction.Common;
using DomainSmith.Abstraction.Core.Primitives;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Net.Http;
using System.Threading;
using System.Threading.Tasks;
using System.Text.Json;

namespace TestNamespace;

partial class TestAggregateRoot : AggregateRoot<Guid>
{
    private TestAggregateRoot(Guid id, string name2) : base(id)
    {
        Name2 = name2;
    }

    public static TestAggregateRoot? Create(string name2)
    {
        bool canCreate = true;
        OnCreatingAuto(ref name2, ref canCreate);
        OnCreating(ref name2, ref canCreate);
    
        var result = new TestAggregateRoot(Guid.NewGuid(), name2);
                                 
        OnCreated(result, ref canCreate);
        if(!canCreate) return null;

        

        return result;
    }
    
    public void Update(string name2)
    {
        bool canUpdate = true;
        OnUpdatingAuto(ref name2, ref canUpdate);
        OnUpdating(ref name2, ref canUpdate);
        
        var tmpName2 = Name2;
        Name2 = name2;
        
        OnUpdated(ref canUpdate);
        if(!canUpdate)
        {
           Name2 = tmpName2;
           return;
        }
        
    
        return;
    }

    private static void OnCreatingAuto(ref string name2, ref bool canCreate)
    {
        OnCreatingName2(ref name2, ref canCreate);
    }

    private void OnUpdatingAuto(ref string name2, ref bool canUpdate)
    {
        OnUpdatingName2(ref name2, ref canUpdate);
    }
    
    static partial void OnCreating(ref string name2, ref bool canCreate);
    static partial void OnCreated(TestAggregateRoot result, ref bool canCreate);

    partial void OnUpdating(ref string name2, ref bool canUpdate);
    partial void OnUpdated(ref bool canUpdate);

    
    

    static partial void OnCreatingName2(ref string name2, ref bool canCreate);
    partial void OnUpdatingName2(ref string name2, ref bool canUpdate);
}                 